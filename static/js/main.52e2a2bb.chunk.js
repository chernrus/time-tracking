(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,function(e,t,a){e.exports=a(25)},,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(8),i=a.n(c),s=(a(15),a(2)),o=a(3),l=a(5),u=a(4),m=a(6),h=(a(16),a(1)),d=(a(17),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={hamburgerClassName:"hamburger",menuClassName:"side-menu"},a.showHideMenu=a.showHideMenu.bind(Object(h.a)(Object(h.a)(a))),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"showHideMenu",value:function(){var e=this.state,t=e.menuClassName,a=e.hamburgerClassName,n=this.props.main.current,r=this.props.header.current;switch(a){case"hamburger":a="hamburger change",t="side-menu opened";break;case"hamburger change":a="hamburger",t="side-menu";break;default:a="hamburger change",t="side-menu opened"}n.classList.toggle("change"),r.classList.toggle("change"),this.setState({menuClassName:t,hamburgerClassName:a})}},{key:"render",value:function(){var e=this.state,t=e.menuClassName,a=e.hamburgerClassName;return r.a.createElement("div",{className:t},r.a.createElement("div",{className:a,onClick:this.showHideMenu},r.a.createElement("div",{className:"hamburger__bar1"}),r.a.createElement("div",{className:"hamburger__bar2"}),r.a.createElement("div",{className:"hamburger__bar3"})),r.a.createElement("div",{className:"side-menu__item"},r.a.createElement("a",{className:"side-menu__time-tracker",href:"#"},r.a.createElement("i",{className:"side-menu__icon far fa-clock"}),"Time-tracker")),r.a.createElement("div",{className:"side-menu__item"},r.a.createElement("a",{className:"side-menu__pomodoro",href:"#"},r.a.createElement("i",{className:"side-menu__icon far fa-hourglass"}),"Pomodoro")),r.a.createElement("div",{className:"side-menu__item"},r.a.createElement("a",{className:"side-menu__desk",href:"#"},r.a.createElement("i",{className:"side-menu__icon far fa-calendar"}),"Desk")))}}]),t}(n.Component)),v=(a(18),function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.title;return r.a.createElement("div",{className:"main-header__title"},r.a.createElement("h1",null,e))}}]),t}(n.Component));a(19);function f(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}var b=function(){function e(e){return/[0-9]{2}:[0-9]{2}/g.test(e)}return{isTime:e,getTime:function(e){var t=new Date,a=t.getHours(),n=t.getMinutes(),r=t.getSeconds(),c="".concat(a>9?a:"0".concat(a),":").concat(n>9?n:"0".concat(n));switch(e){case"hh:mm":return c;case"hh:mm:ss":return"".concat(c,":").concat(r>9?r:"0".concat(r));default:return c}},parseTimeFormat:function(t,a){if(e(t)){var n=t.split(":");return"".concat(+n[0],"h ").concat(+n[1],"m")}return"0h&nbsp;0m"}}}(),p=(a(20),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={value:e.value||"",rows:1,minRows:1,maxRows:5,maxLength:60},a.refNameElement=r.a.createRef(),a.handleChange=a.handleChange.bind(Object(h.a)(Object(h.a)(a))),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){setTimeout(this.handleChange,50,{target:this.refNameElement.current})}},{key:"handleChange",value:function(e){var t=this.state,a=t.minRows,n=t.maxRows,r=e.target.rows;e.target.rows=a;var c=~~(e.target.scrollHeight/18);c===r&&(e.target.rows=c),c>=n&&(e.target.rows=n,e.target.scrollTop=e.target.scrollHeight),this.setState({value:e.target.value,rows:c<n?c:n}),this.props.onChangeValue(e.target.value)}},{key:"render",value:function(){return r.a.createElement("textarea",{ref:this.refNameElement,name:"name",className:"task__name",rows:this.state.rows,value:this.state.value,onChange:this.handleChange,maxLength:this.state.maxLength})}}]),t}(n.Component)),k=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={start:e.taskData.start||b.getTime("hh:mm"),end:e.taskData.end||"",name:e.taskData.name||"",id:e.taskData.id||f(),period:e.taskData.period||"00:00"},a.refNameElement=r.a.createRef(),a.inputHandler=a.inputHandler.bind(Object(h.a)(Object(h.a)(a))),a.updateStart=a.updateStart.bind(Object(h.a)(Object(h.a)(a))),a.updateEnd=a.updateEnd.bind(Object(h.a)(Object(h.a)(a))),a.removeTask=a.removeTask.bind(Object(h.a)(Object(h.a)(a))),a.changeName=a.changeName.bind(Object(h.a)(Object(h.a)(a))),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"changeTask",value:function(e){(0,this.props.onChange)(e)}},{key:"removeTask",value:function(){(0,this.props.onRemove)(this.state.id)}},{key:"calculatePeriod",value:function(e,t){if(!b.isTime(e)&&!b.isTime(t))return"00:00";var a=e.split(":"),n=t.split(":"),r=parseInt(n[0])-parseInt(a[0]),c=parseInt(n[1])-parseInt(a[1]);return r=r<0?r+24:r,r=c<0?r-1:r,c=c<0?c+60:c,"".concat(r>9?r:"0".concat(r),":").concat(c>9?c:"0".concat(c))}},{key:"changeStartTime",value:function(e){var t=this.state,a=t.id,n=t.end,r=t.name,c=this.calculatePeriod(e,n);this.setState({start:e,period:c}),this.changeTask({id:a,start:e,end:n,name:r,period:c})}},{key:"changeEndTime",value:function(e){var t=this.state,a=t.id,n=t.start,r=t.name,c=this.calculatePeriod(n,e);this.setState({end:e,period:c}),this.changeTask({id:a,start:n,end:e,name:r,period:c})}},{key:"changeName",value:function(e,t){var a=this.state,n=a.id,r=a.start,c=a.end,i=a.period;this.setState({name:e}),this.changeTask({id:n,start:r,end:c,name:e,period:i})}},{key:"inputHandler",value:function(e){var t=e.target.name,a=e.target.value;switch(t){case"start":this.changeStartTime(a);break;case"end":this.changeEndTime(a);break;case"name":this.changeName(a,e.target);break;default:return}}},{key:"updateStart",value:function(){var e=b.getTime("hh:mm");this.changeStartTime(e)}},{key:"updateEnd",value:function(){var e=b.getTime("hh:mm");this.changeEndTime(e)}},{key:"render",value:function(){var e=this.state,t=e.start,a=e.end,n=e.name,c=e.period,i=b.parseTimeFormat(c,"dhdm");return r.a.createElement("div",{className:"task"},r.a.createElement("input",{type:"time",className:"task__time-input startTime",name:"start",value:t,onChange:this.inputHandler}),r.a.createElement("button",{type:"button",className:"task__time-button startBtn far fa-clock",name:"start time button",onClick:this.updateStart}),r.a.createElement("span",null,"\u2014\xa0"),r.a.createElement("input",{type:"time",className:"task__time-input endTime",name:"end",value:a,onChange:this.inputHandler}),r.a.createElement("button",{type:"button",className:"task__time-button endBtn far fa-clock",name:"end time button",onClick:this.updateEnd}),r.a.createElement(p,{value:n,onChangeValue:this.changeName}),r.a.createElement("span",{className:"task__period"},i),r.a.createElement("button",{type:"button",className:"task__delete-button deleteBtn far fa-trash-alt",name:"delete task button",onClick:this.removeTask}))}}]),t}(n.Component),g=(a(21),function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"createTasks",value:function(e){var t=this,a=[];return e.forEach(function(e,n){a.push(r.a.createElement(k,{key:n,taskData:e,onChange:t.props.onChange,onRemove:t.props.onRemove}))}),a}},{key:"render",value:function(){var e=this.props.data,t=this.createTasks(e);return r.a.createElement("div",{className:"task-list"},t)}}]),t}(n.Component)),O=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(l.a)(this,Object(u.a)(t).call(this))).createTask=e.createTask.bind(Object(h.a)(Object(h.a)(e))),e}return Object(m.a)(t,e),Object(o.a)(t,[{key:"createTask",value:function(){(0,this.props.onCreate)()}},{key:"render",value:function(){return r.a.createElement("button",{className:"create-task-button",type:"button",name:"add-btn",onClick:this.createTask},"+ Add")}}]),t}(n.Component),j=(a(22),function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.time;return r.a.createElement("div",{className:"total-time"},"\u0412\u0441\u0435\u0433\u043e\xa0",r.a.createElement("span",{className:"total-time__time"},e))}}]),t}(n.Component)),T=(a(23),function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"sortData",value:function(e,t){return e.sort(function(e,a){return e[t]<a[t]?-1:e[t]>a[t]?1:0})}},{key:"calcPeriod",value:function(e,t){if(!b.isTime(e)&&!b.isTime(t))return"00:00";var a=e.split(":"),n=t.split(":"),r=parseInt(n[0])-parseInt(a[0]),c=parseInt(n[1])-parseInt(a[1]);return r=r<0?r+24:r,r=c<0?r-1:r,c=c<0?c+60:c,"".concat(r>9?r:"0".concat(r),":").concat(c>9?c:"0".concat(c))}},{key:"sumTime",value:function(e,t){var a=e.split(":"),n=t.split(":"),r=parseInt(a[0])+parseInt(n[0]),c=parseInt(a[1])+parseInt(n[1]);return r=c>=60?r+1:r,c=c>=60?c-60:c,"".concat(r>9?r:"0".concat(r),":").concat(c>9?c:"0".concat(c))}},{key:"calculateTimeSummary",value:function(e,t){var a=t.period||this.calcPeriod(t.start,t.end);return{time:e?this.sumTime(e.time,a):a,name:t.name}}},{key:"checkName",value:function(e){return e.name===this.name}},{key:"calculate",value:function(e){for(var t=this.sortData(e,"name"),a=[],n=null,r=0;r<t.length;r++)if(!a.find(this.checkName,t[r])){for(var c=t[r].name,i=0;i<t.length;i++)t[i].name===c&&(n=this.calculateTimeSummary(n,t[i]));a.push(n),n=null}return a}},{key:"createList",value:function(e){var t=[];return e.map(function(e){t.push(r.a.createElement("div",{className:"calculated-list__item",key:e.name},r.a.createElement("div",{className:"calculated-list__task-time"},b.parseTimeFormat(e.time,"dhdm")),r.a.createElement("div",{className:"calculated-list__task-name"},e.name||"~")))}),t}},{key:"render",value:function(){var e=this.props.data,t=this.calculate(e),a=this.createList(t);return r.a.createElement("div",{className:"calculated-list"},r.a.createElement("div",{className:"calculated-list__hedaer"},r.a.createElement("div",{className:"calculated-list__title-time"},"Time"),r.a.createElement("div",{className:"calculated-list__title-name"},"Task name")),a)}}]),t}(n.Component)),E=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).onCalculate=a.onCalculate.bind(Object(h.a)(Object(h.a)(a))),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"onCalculate",value:function(){this.props.onCalculate()}},{key:"render",value:function(){return r.a.createElement("button",{className:"button-calculate",type:"button",name:"calc-btn",onClick:this.onCalculate},"Calculate")}}]),t}(n.Component),y=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).onRemoveAll=a.onRemoveAll.bind(Object(h.a)(Object(h.a)(a))),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"onRemoveAll",value:function(){this.props.onRemove()}},{key:"render",value:function(){return r.a.createElement("button",{className:"button-clear",type:"button",name:"clear-btn",onClick:this.onRemoveAll},"Clear")}}]),t}(n.Component),N=function(){return{getData:function(e){var t=null;return new Promise(function(a,n){try{(t=JSON.parse(window.localStorage.getItem(e)))?a(t):n()}catch(r){n()}})},checkData:function(e){return 0!==e.length||0},sumTime:function(e,t){var a=e.split(":"),n=t.split(":"),r=parseInt(a[0])+parseInt(n[0]),c=parseInt(a[1])+parseInt(n[1]);return r=c>=60?r+1:r,c=c>=60?c-60:c,"".concat(r>9?r:"0".concat(r),":").concat(c>9?c:"0".concat(c))}}}(),C=(a(24),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={error:!1,data:[],calcListIsShow:!1},a.loadData(),a.calculateTasks=a.calculateTasks.bind(Object(h.a)(Object(h.a)(a))),a.removeAllTask=a.removeAllTask.bind(Object(h.a)(Object(h.a)(a))),a.createTask=a.createTask.bind(Object(h.a)(Object(h.a)(a))),a.changeTask=a.changeTask.bind(Object(h.a)(Object(h.a)(a))),a.removeTask=a.removeTask.bind(Object(h.a)(Object(h.a)(a))),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"loadData",value:function(){var e=this;N.getData("timeTasks").then(function(e){return e},function(e){return[]}).then(function(t){e.setState({data:t})})}},{key:"saveData",value:function(e){window.localStorage.setItem("timeTasks",JSON.stringify(e)),this.setState({data:e})}},{key:"calculateTasks",value:function(){console.log("Calculate all tasks"),this.setState({calcListIsShow:!0})}},{key:"removeAllTask",value:function(){console.log("Remove all tasks"),this.setState({data:[]}),this.saveData([])}},{key:"createTask",value:function(){console.log("Create tasks");var e={name:"",start:"",end:"",period:"00:00",id:f()},t=this.state.data;t.push(e),this.setState({data:t})}},{key:"changeTask",value:function(e){var t=this.state.data,a=!1;t.map(function(t){t.id===e.id&&(t.start=e.start,t.end=e.end,t.name=e.name,t.period=e.period,a=!0)}),a||t.push(e),this.saveData(t)}},{key:"removeTask",value:function(e){console.log("Remove Task");var t=this.state.data;t.forEach(function(a,n){a.id===e&&t.splice(n,1)}),this.saveData(t)}},{key:"calculateTime",value:function(e){var t="00:00";return e.map(function(e){t=N.sumTime(t,e.period)}),t}},{key:"render",value:function(){var e=this.state,t=e.data,a=e.calcListIsShow,n=this.calculateTime(t);return r.a.createElement("div",{className:"time-tracker"},r.a.createElement("div",{className:"time-tracker__header"},r.a.createElement(E,{onCalculate:this.calculateTasks}),r.a.createElement(y,{onRemove:this.removeAllTask})),r.a.createElement(g,{data:t,onChange:this.changeTask,onRemove:this.removeTask}),r.a.createElement("div",{className:"time-tracker__footer"},r.a.createElement(O,{onCreate:this.createTask}),r.a.createElement(j,{time:n})),a&&r.a.createElement(T,{data:t}))}}]),t}(n.Component)),_=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(l.a)(this,Object(u.a)(t).call(this))).mainContainer=r.a.createRef(),e.mainHeader=r.a.createRef(),e}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(d,{main:this.mainContainer,header:this.mainHeader}),r.a.createElement("div",{ref:this.mainHeader,className:"main-header"},r.a.createElement(v,{title:"Time tracker "})),r.a.createElement("div",{ref:this.mainContainer,className:"main-container"},r.a.createElement(C,null)))}}]),t}(n.Component),w=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function x(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}i.a.render(r.a.createElement(_,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/time-tracking",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/time-tracking","/service-worker.js");w?(function(e,t){fetch(e).then(function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):x(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):x(t,e)})}}()}],[[9,1,2]]]);
//# sourceMappingURL=main.52e2a2bb.chunk.js.map