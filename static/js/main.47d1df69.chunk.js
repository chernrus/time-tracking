(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,function(e,t,a){e.exports=a(25)},,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(8),i=a.n(c),s=(a(15),a(2)),o=a(3),l=a(5),u=a(4),m=a(6),d=(a(16),a(1)),h=(a(17),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={hamburgerClassName:"hamburger",menuClassName:"side-menu"},a.showHideMenu=a.showHideMenu.bind(Object(d.a)(Object(d.a)(a))),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"showHideMenu",value:function(){var e=this.state,t=e.menuClassName,a=e.hamburgerClassName,n=this.props.main.current,r=this.props.header.current;switch(a){case"hamburger":a="hamburger change",t="side-menu opened";break;case"hamburger change":a="hamburger",t="side-menu";break;default:a="hamburger change",t="side-menu opened"}n.classList.toggle("change"),r.classList.toggle("change"),this.setState({menuClassName:t,hamburgerClassName:a})}},{key:"render",value:function(){var e=this.state,t=e.menuClassName,a=e.hamburgerClassName;return r.a.createElement("div",{className:t},r.a.createElement("div",{className:a,onClick:this.showHideMenu},r.a.createElement("div",{className:"hamburger__bar1"}),r.a.createElement("div",{className:"hamburger__bar2"}),r.a.createElement("div",{className:"hamburger__bar3"})),r.a.createElement("div",{className:"side-menu__item"},r.a.createElement("a",{className:"side-menu__time-tracker",href:"#"},r.a.createElement("i",{className:"side-menu__icon far fa-clock"}),"Time-tracker")),r.a.createElement("div",{className:"side-menu__item"},r.a.createElement("a",{className:"side-menu__pomodoro",href:"#"},r.a.createElement("i",{className:"side-menu__icon far fa-hourglass"}),"Pomodoro")),r.a.createElement("div",{className:"side-menu__item"},r.a.createElement("a",{className:"side-menu__desk",href:"#"},r.a.createElement("i",{className:"side-menu__icon far fa-calendar"}),"Desk")))}}]),t}(n.Component)),p=(a(18),function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.title;return r.a.createElement("div",{className:"main-header__title"},r.a.createElement("h1",null,e))}}]),t}(n.Component));a(19);function v(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}var f=function(){function e(e){return/[0-9]{2}:[0-9]{2}/g.test(e)}return{isTime:e,getTime:function(e){var t="",a=new Date,n=a.getHours(),r=a.getMinutes(),c=a.getSeconds(),i="".concat(n>9?n:"0".concat(n),":").concat(r>9?r:"0".concat(r));switch(e){case"hh:mm":t=i;break;case"hh:mm:ss":t="".concat(i,":").concat(c>9?c:"0".concat(c));break;default:t=i}return t},parseTimeFormat:function(t,a){if(e(t)){var n=t.split(":");return"".concat(+n[0],"h ").concat(+n[1],"m")}return"0h 0m"}}}(),b=(a(20),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){var t=a.state,n=t.minRows,r=t.maxRows,c=t.value,i=e.target.rows,s=e.target.value;e.target.rows=n;var o=~~(e.target.scrollHeight/18);o===i&&(e.target.rows=o),o>=r&&(e.target.rows=r,e.target.scrollTop=e.target.scrollHeight),a.setState({value:e.target.value,rows:o<r?o:r}),s!==c&&a.props.onChangeValue(e.target.value)},a.handleClick=function(e){var t=a.props.onClick;t&&t(e)},a.state={value:e.value||"",rows:1,minRows:1,maxRows:6,maxLength:60,readonly:e.readonly||!1,class:e.className||""},a.refNameElement=r.a.createRef(),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){setTimeout(this.handleChange,50,{target:this.refNameElement.current})}},{key:"render",value:function(){return r.a.createElement("textarea",{ref:this.refNameElement,name:"name",className:"autogrow-textarea ".concat(this.state.class),placeholder:"Task name...",rows:this.state.rows,value:this.state.value,onChange:this.handleChange,maxLength:this.state.maxLength,readOnly:this.state.readonly,onClick:this.handleClick})}}]),t}(n.Component)),k=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).copyTime=function(e){var t=e.target.innerText;(0,a.props.onCopy)(t)},a.state={start:e.taskData.start||f.getTime("hh:mm"),end:e.taskData.end||"",name:e.taskData.name||"",id:e.taskData.id||v(),period:e.taskData.period||"00:00"},a.refNameElement=r.a.createRef(),a.inputHandler=a.inputHandler.bind(Object(d.a)(Object(d.a)(a))),a.updateStart=a.updateStart.bind(Object(d.a)(Object(d.a)(a))),a.updateEnd=a.updateEnd.bind(Object(d.a)(Object(d.a)(a))),a.removeTask=a.removeTask.bind(Object(d.a)(Object(d.a)(a))),a.changeName=a.changeName.bind(Object(d.a)(Object(d.a)(a))),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"changeTask",value:function(e){(0,this.props.onChange)(e)}},{key:"removeTask",value:function(){(0,this.props.onRemove)(this.state.id)}},{key:"calculatePeriod",value:function(e,t){if(!f.isTime(e)&&!f.isTime(t))return"00:00";var a=e.split(":"),n=t.split(":"),r=parseInt(n[0])-parseInt(a[0]),c=parseInt(n[1])-parseInt(a[1]);return r=c<0?r-1:r,c=c<0?c+60:c,"".concat((r=r<0?r+24:r)>9?r:"0".concat(r),":").concat(c>9?c:"0".concat(c))}},{key:"changeStartTime",value:function(e){var t=this.state,a=t.id,n=t.end,r=t.name,c=this.calculatePeriod(e,n);this.setState({start:e,period:c}),this.changeTask({id:a,start:e,end:n,name:r,period:c})}},{key:"changeEndTime",value:function(e){var t=this.state,a=t.id,n=t.start,r=t.name,c=this.calculatePeriod(n,e);this.setState({end:e,period:c}),this.changeTask({id:a,start:n,end:e,name:r,period:c})}},{key:"changeName",value:function(e,t){var a=this.state,n=a.id,r=a.start,c=a.end,i=a.period;this.setState({name:e}),this.changeTask({id:n,start:r,end:c,name:e,period:i})}},{key:"inputHandler",value:function(e){var t=e.target.name,a=e.target.value;switch(t){case"start":this.changeStartTime(a);break;case"end":this.changeEndTime(a);break;case"name":this.changeName(a,e.target);break;default:return}}},{key:"updateStart",value:function(){var e=f.getTime("hh:mm");this.changeStartTime(e)}},{key:"updateEnd",value:function(){var e=f.getTime("hh:mm");this.changeEndTime(e)}},{key:"render",value:function(){var e=this.state,t=e.start,a=e.end,n=e.name,c=e.period,i=f.parseTimeFormat(c,"dhdm");return r.a.createElement("div",{className:"task"},r.a.createElement("input",{type:"time",className:"task__time-input startTime",name:"start",value:t,onChange:this.inputHandler}),r.a.createElement("button",{type:"button",className:"task__time-button startBtn far fa-clock",name:"start time button",onClick:this.updateStart}),r.a.createElement("span",null,"\u2014\xa0"),r.a.createElement("input",{type:"time",className:"task__time-input endTime",name:"end",value:a,onChange:this.inputHandler}),r.a.createElement("button",{type:"button",className:"task__time-button endBtn far fa-clock",name:"end time button",onClick:this.updateEnd}),r.a.createElement(b,{className:"task__name",value:n,onChangeValue:this.changeName}),r.a.createElement("span",{className:"task__period",onClick:this.copyTime},i),r.a.createElement("button",{type:"button",className:"task__delete-button deleteBtn far fa-trash-alt",name:"delete task button",onClick:this.removeTask}))}}]),t}(n.Component),g=(a(21),function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"createTasks",value:function(e){var t=this,a=[];return e.forEach(function(e,n){a.push(r.a.createElement(k,{key:e.id,taskData:e,onChange:t.props.onChange,onRemove:t.props.onRemove,onCopy:t.props.onCopy}))}),a}},{key:"render",value:function(){var e=this.props.data,t=this.createTasks(e);return r.a.createElement("div",{className:"task-list"},t)}}]),t}(n.Component)),y=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).createTask=function(){(0,a.props.onCreate)()},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("button",{className:"create-task-button",type:"button",name:"add-btn",onClick:this.createTask},"+ Add")}}]),t}(n.Component),T=(a(22),function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).copyTime=function(e){var t=e.target.innerText;(0,a.props.onCopy)(t)},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.time;return r.a.createElement("div",{className:"total-time"},"\u0412\u0441\u0435\u0433\u043e\xa0",r.a.createElement("span",{className:"total-time__time",onClick:this.copyTime},e))}}]),t}(n.Component)),O=(a(23),function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).copyTime=function(e){var t=e.target.value;(0,a.props.onCopy)(t)},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"sortData",value:function(e,t){return e.sort(function(e,a){return e[t]<a[t]?-1:e[t]>a[t]?1:0})}},{key:"calcPeriod",value:function(e,t){if(!f.isTime(e)&&!f.isTime(t))return"00:00";var a=e.split(":"),n=t.split(":"),r=parseInt(n[0])-parseInt(a[0]),c=parseInt(n[1])-parseInt(a[1]);return r=r<0?r+24:r,r=c<0?r-1:r,c=c<0?c+60:c,"".concat(r>9?r:"0".concat(r),":").concat(c>9?c:"0".concat(c))}},{key:"sumTime",value:function(e,t){var a=e.split(":"),n=t.split(":"),r=parseInt(a[0])+parseInt(n[0]),c=parseInt(a[1])+parseInt(n[1]);return r=c>=60?r+1:r,c=c>=60?c-60:c,"".concat(r>9?r:"0".concat(r),":").concat(c>9?c:"0".concat(c))}},{key:"calculateTimeSummary",value:function(e,t){var a=t.period||this.calcPeriod(t.start,t.end);return{time:e?this.sumTime(e.time,a):a,name:t.name}}},{key:"checkName",value:function(e){return e.name===this.name}},{key:"calculate",value:function(e){for(var t=JSON.parse(JSON.stringify(e)),a=this.sortData(t,"name"),n=[],r=null,c=0;c<a.length;c++)if(!n.find(this.checkName,a[c])){for(var i=a[c].name,s=0;s<a.length;s++)a[s].name===i&&(r=this.calculateTimeSummary(r,a[s]));n.push(r),r=null}return n}},{key:"createList",value:function(e){var t=this,a=[];return e.map(function(e){a.push(r.a.createElement("div",{className:"calculated-list__item",key:e.name},r.a.createElement("div",{className:"calculated-list__task-time",onClick:t.copyTime},f.parseTimeFormat(e.time,"dhdm")),r.a.createElement(b,{value:e.name||"~",className:"calculated-list__task-name",onChangeValue:t.changeName,readonly:!0,onClick:t.copyTime})))}),a}},{key:"render",value:function(){var e=this.props.data,t=this.calculate(e),a=this.createList(t);return r.a.createElement("div",{className:"calculated-list"},r.a.createElement("div",{className:"calculated-list__hedaer"},r.a.createElement("div",{className:"calculated-list__title-time"},"Time"),r.a.createElement("div",{className:"calculated-list__title-name"},"Task name")),a)}}]),t}(n.Component)),j=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).onCalculate=function(){a.props.onCalculate()},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("button",{className:"button-calculate",type:"button",name:"calc-btn",onClick:this.onCalculate},"Calculate")}}]),t}(n.Component),C=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).onRemoveAll=function(){a.props.onRemove()},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("button",{className:"button-clear",type:"button",name:"clear-btn",onClick:this.onRemoveAll},"Clear")}}]),t}(n.Component),E=function(){return{getData:function(e){var t=null;return new Promise(function(a,n){try{(t=JSON.parse(window.localStorage.getItem(e)))?a(t):n()}catch(r){n()}})},checkData:function(e){return 0!==e.length||0},sumTime:function(e,t){var a=e.split(":"),n=t.split(":"),r=parseInt(a[0])+parseInt(n[0]),c=parseInt(a[1])+parseInt(n[1]);return r=c>=60?r+1:r,c=c>=60?c-60:c,"".concat(r>9?r:"0".concat(r),":").concat(c>9?c:"0".concat(c))},copyToClipboard:function(e){var t=document.createElement("textarea");t.value=e,t.setAttribute("readonly",""),t.style.position="absolute",t.style.left="-9999px",document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t),function(e){var t=document.createElement("div"),a=document.createElement("p"),n=document.createElement("span");t.className="clipboard-modal",a.className="clipboard-modal__text",a.innerText="".concat(e),n.innerText=" added in clipboard",t.appendChild(a),t.appendChild(n),t.style.position="fixed",t.style.bottom="0",t.style.left="0",t.style.right="0",t.style.margin="auto",t.style.width="100%",t.style.zIndex="100",t.style.backgroundColor="#111",t.style.color="#fff",t.style.textAlign="center",a.style.margin="0 auto",a.style.overflow="hidden",a.style.padding="10px",document.body.appendChild(t),setTimeout(function(){document.body.removeChild(t)},1500)}(e)}}}(),N=(a(24),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={error:!1,data:[],calcListIsShow:!1},a.loadData(),a.calculateTasks=a.calculateTasks.bind(Object(d.a)(Object(d.a)(a))),a.removeAllTask=a.removeAllTask.bind(Object(d.a)(Object(d.a)(a))),a.createTask=a.createTask.bind(Object(d.a)(Object(d.a)(a))),a.changeTask=a.changeTask.bind(Object(d.a)(Object(d.a)(a))),a.removeTask=a.removeTask.bind(Object(d.a)(Object(d.a)(a))),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"loadData",value:function(){var e=this;E.getData("timeTasks").then(function(e){return e},function(e){return[]}).then(function(t){e.setState({data:t})})}},{key:"saveData",value:function(e){window.localStorage.setItem("timeTasks",JSON.stringify(e)),this.setState({data:e})}},{key:"calculateTasks",value:function(){console.log("Calculate all tasks"),this.setState({calcListIsShow:!0})}},{key:"removeAllTask",value:function(){console.log("Remove all tasks"),this.setState({data:[]}),this.saveData([])}},{key:"createTask",value:function(){console.log("Create tasks");var e={name:"",start:"",end:"",period:"00:00",id:v()},t=this.state.data;t.push(e),this.setState({data:t})}},{key:"changeTask",value:function(e){var t=this.state.data,a=!1;t.map(function(t){t.id===e.id&&(t.start=e.start,t.end=e.end,t.name=e.name,t.period=e.period,a=!0)}),a||t.push(e),this.saveData(t)}},{key:"removeTask",value:function(e){console.log("Remove Task");var t=this.state.data;t.forEach(function(a,n){a.id===e&&t.splice(n,1)}),this.saveData(t)}},{key:"calculateTime",value:function(e){var t="00:00";return e.map(function(e){t=E.sumTime(t,e.period)}),f.parseTimeFormat(t)}},{key:"render",value:function(){var e=this.state,t=e.data,a=e.calcListIsShow,n=this.calculateTime(t);return r.a.createElement("div",{className:"time-tracker"},r.a.createElement("div",{className:"time-tracker__header"},r.a.createElement(j,{onCalculate:this.calculateTasks}),r.a.createElement(C,{onRemove:this.removeAllTask})),r.a.createElement(g,{data:t,onChange:this.changeTask,onRemove:this.removeTask,onCopy:E.copyToClipboard}),r.a.createElement("div",{className:"time-tracker__footer"},r.a.createElement(y,{onCreate:this.createTask}),r.a.createElement(T,{time:n,onCopy:E.copyToClipboard})),a&&r.a.createElement(O,{data:t,onCopy:E.copyToClipboard}))}}]),t}(n.Component)),w=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(l.a)(this,Object(u.a)(t).call(this))).mainContainer=r.a.createRef(),e.mainHeader=r.a.createRef(),e}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(h,{main:this.mainContainer,header:this.mainHeader}),r.a.createElement("div",{ref:this.mainHeader,className:"main-header"},r.a.createElement(p,{title:"Time tracker "})),r.a.createElement("div",{ref:this.mainContainer,className:"main-container"},r.a.createElement(N,null)))}}]),t}(n.Component),_=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function x(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}i.a.render(r.a.createElement(w,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/time-tracking",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/time-tracking","/service-worker.js");_?(function(e,t){fetch(e).then(function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):x(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):x(t,e)})}}()}],[[9,1,2]]]);
//# sourceMappingURL=main.47d1df69.chunk.js.map